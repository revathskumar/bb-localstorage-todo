(function(){$(function(){return Todo.init()})}).call(this),this.JST=this.JST||{},this.JST["app/scripts/templates/todo.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,obj)__p+="<td>"+(null==(__t=todo.get("task"))?"":__t)+'</td>\n<td><input type="checkbox" name="done" id="done" '+(null==(__t=checked)?"":__t)+"/></td>\n";return __p},this.JST["app/scripts/templates/todo_view.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<form id="new_task_form" class="well form-inline">\n    <input type="text" name="task" id="task"/>\n    <input type="submit" value="Add" class="btn btn-primary"/>\n</form>\n\n<table class="table" id="todo-list">\n  <tr>\n    <th>Task</th>\n    <th>Done</th>\n  </tr>\n</table>';return __p},function(){window.Todo={Routers:{},Models:{},Collections:{},Views:{},init:function(){var t;return t=new Todo.Routers.TodoRouter,t.index(),Backbone.history.start({pushState:!0})}}}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Todo.Collections.TodosCollection=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.localStorage=new Backbone.LocalStorage("Todos"),r}(Backbone.Collection)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Todo.Routers.TodoRouter=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.routes={index:"index","":"index"},r.prototype.initialize=function(){return this.collection=new Todo.Collections.TodosCollection,this.collection.fetch()},r.prototype.index=function(){var t;return console.log("Router index"),t=new Todo.Views.TodoView({collection:this.collection}),t.render()},r}(Backbone.Router)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Todo.Models.TodoModel=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.defaults={id:null,task:null,done:null},r.prototype.initialize=function(){return console.log("initialize model")},r.prototype.validate=function(){},r}(Backbone.Model)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Todo.Views.TodoView=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.template=JST["app/scripts/templates/todo_view.ejs"],r.prototype.events={"submit #new_task_form":"create"},r.prototype.initialize=function(){return this.collection.on("reset",this.render,this),this.collection.on("add",this.appendTodo,this)},r.prototype.create=function(t){return t.preventDefault(),this.collection.create({task:$("#task").val(),done:!1}),$("#task").val("")},r.prototype.appendTodo=function(t){var e;return e=new Todo.Views.Todo({model:t}),this.$("#todo-list").append(e.render().el)},r.prototype.render=function(){return console.log("Todo.Views.TodoView"),$(this.el).html(this.template()),$("#todoapp").html(this.el),this.collection.each(this.appendTodo),this},r}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};Todo.Views.Todo=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.tagName="tr",r.prototype.template=JST["app/scripts/templates/todo.ejs"],r.prototype.events={"click #done":"updateStatus"},r.prototype.updateStatus=function(){return this.model.set({done:!this.model.get("done")}),this.model.save()},r.prototype.render=function(){var t;return t=this.model.get("done")?"checked='checked'":"",$(this.el).html(this.template({todo:this.model,checked:t})),this},r}(Backbone.View)}.call(this);