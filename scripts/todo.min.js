(function(){$(function(){return Todo.init()})}).call(this),this.JST=this.JST||{},this.JST["app/scripts/templates/todo.ejs"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,obj)__p+="<td>"+(null==(__t=todo.get("task"))?"":__t)+'</td>\n<td><input type="checkbox" name="done" id="done" '+(null==(__t=checked)?"":__t)+"/></td>\n";return __p},this.JST["app/scripts/templates/todo_view.ejs"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<form id="new_task_form" class="well form-inline">\n    <input type="text" name="task" id="task"/>\n    <input type="submit" value="Add" class="btn btn-primary"/>\n</form>\n\n<table class="table" id="todo-list">\n  <tr>\n    <th>Task</th>\n    <th>Done</th>\n  </tr>\n</table>';return __p},function(){window.Todo={Routers:{},Models:{},Collections:{},Views:{},init:function(){var t;return t=new Todo.Routers.TodoRouter,t.index(),Backbone.history.start({pushState:!0})}}}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Todo.Collections.TodosCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.localStorage=new Backbone.LocalStorage("Todos"),n}(Backbone.Collection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Todo.Routers.TodoRouter=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.routes={index:"index","":"index"},n.prototype.initialize=function(){return this.collection=new Todo.Collections.TodosCollection,this.collection.fetch()},n.prototype.index=function(){var t;return console.log("Router index"),t=new Todo.Views.TodoView({collection:this.collection}),t.render()},n}(Backbone.Router)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Todo.Models.TodoModel=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.defaults={id:null,task:null,done:null},n.prototype.initialize=function(){return console.log("initialize model")},n.prototype.validate=function(){},n}(Backbone.Model)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Todo.Views.TodoView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.template=JST["app/scripts/templates/todo_view.ejs"],n.prototype.events={"submit #new_task_form":"create"},n.prototype.initialize=function(){return this.collection.on("reset",this.render,this),this.collection.on("add",this.appendTodo,this)},n.prototype.create=function(t){return t.preventDefault(),this.collection.create({task:$("#task").val(),done:!1}),$("#task").val("")},n.prototype.appendTodo=function(t){var e;return e=new Todo.Views.Todo({model:t}),this.$("#todo-list").append(e.render().el)},n.prototype.render=function(){return console.log("Todo.Views.TodoView"),$(this.el).html(this.template()),$("#todoapp").html(this.el),this.collection.each(this.appendTodo),this},n}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Todo.Views.Todo=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.tagName="tr",n.prototype.template=JST["app/scripts/templates/todo.ejs"],n.prototype.events={"click #done":"updateStatus"},n.prototype.updateStatus=function(){return this.model.set({done:!this.model.get("done")}),this.model.save()},n.prototype.render=function(){var t;return t=this.model.get("done")?"checked='checked'":"",$(this.el).html(this.template({todo:this.model,checked:t})),this},n}(Backbone.View)}.call(this);